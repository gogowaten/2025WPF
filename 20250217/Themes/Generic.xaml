<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:_20250217">


  <Style TargetType="{x:Type local:Waku}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type local:Waku}">
          <Grid x:Name="PART_Grid">
            <Border x:Name="PART_Border1"
                    Width="{TemplateBinding Width}"
                    Height="{TemplateBinding Height}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    >

            </Border>
            <Border x:Name="PART_Border2"
                    Background="{TemplateBinding Background}"                  
                    BorderThickness="{TemplateBinding BorderThickness}"
                    >
              <Border.Resources>
                <local:MyConverterThickness x:Key="tickness"/>
              </Border.Resources>
              <Border.BorderBrush>
                <VisualBrush>
                  <VisualBrush.Visual>
                    <Rectangle Width="{TemplateBinding Width}"
                               Height="{TemplateBinding Height}"
                               Stroke="{TemplateBinding MyStrokeDash}"
                               StrokeDashArray="{TemplateBinding MyStrokeDashArray}"
                               StrokeThickness="{Binding RelativeSource={RelativeSource AncestorType=Border}, Path=BorderThickness, Converter={StaticResource tickness}}"
                               />
                  </VisualBrush.Visual>
                </VisualBrush>
              </Border.BorderBrush>
            </Border>

          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
</ResourceDictionary>
